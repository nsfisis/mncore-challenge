# $ls0 = 0b0011 (3)
# $ls2 = 0b1100 (12)
# $ls4 = 2
# $ls6 = 5

ipackbit $subpeid $ln0 $t
imm i"0b0011" $s1/1000

l1bmd $lmt0v8 $lb0

imm i"0b1100" $s3/1000
imm i"2" $s5/1000
imm i"5" $s7/1000

# 32.times { |i| puts "l1bmp $llb#{i*8} $llm#{i*16}v" }
l1bmp $llb0 $llm0v
l1bmp $llb8 $llm16v
l1bmp $llb16 $llm32v
l1bmp $llb24 $llm48v
l1bmp $llb32 $llm64v
l1bmp $llb40 $llm80v
l1bmp $llb48 $llm96v
l1bmp $llb56 $llm112v
l1bmp $llb64 $llm128v
l1bmp $llb72 $llm144v
l1bmp $llb80 $llm160v
l1bmp $llb88 $llm176v
l1bmp $llb96 $llm192v
l1bmp $llb104 $llm208v
l1bmp $llb112 $llm224v
l1bmp $llb120 $llm240v
l1bmp $llb128 $llm256v
l1bmp $llb136 $llm272v
l1bmp $llb144 $llm288v
l1bmp $llb152 $llm304v
l1bmp $llb160 $llm320v
l1bmp $llb168 $llm336v
l1bmp $llb176 $llm352v
l1bmp $llb184 $llm368v
l1bmp $llb192 $llm384v
l1bmp $llb200 $llm400v
l1bmp $llb208 $llm416v
l1bmp $llb216 $llm432v
l1bmp $llb224 $llm448v; land $mabid $ls0 $nowrite
l1bmp $llb232 $llm464v; llsl $aluf $ls4 $lr0v
l1bmp $llb240 $llm480v; land $mabid $ls2 $nowrite
l1bmp $llb248 $llm496v; llsl $aluf $ls6 $nowrite

# d getd $lm0n0c0b0m0p0 256

ladd $aluf $lr0 $t

nop

lpassa $llmt0v16 $lln0v
lpassa $llmt64v16 $lln16v

# expected:
# mab[0] $lm0 = -0.250919762305275
# mab[0] $lm2 = -0.39151551408092455
# mab[0] $lm4 = -0.869896814029441
# mab[0] $lm6 = 0.0934205586865593
# mab[0] $lm8 = -0.4381309806252385
# mab[0] $lm10 = 0.726206851751187
# mab[0] $lm12 = 0.045465658763988115
# mab[0] $lm14 = 0.8593953046851461
# mab[0] $lm16 = -0.9860957389376186
# mab[0] $lm18 = -0.4303190112450648
# mab[0] $lm20 = -0.26443373456149355
# mab[0] $lm22 = 0.3818754762049319
# mab[0] $lm24 = 0.8008361143266609
# mab[0] $lm26 = -0.9898768323075626
# mab[0] $lm28 = -0.4695952646365491
# mab[0] $lm30 = 0.8809171687058286
# mab[1] $lm0 = 0.9014286128198323
# mab[1] $lm2 = 0.04951286326447568
# mab[1] $lm4 = 0.8977710745066665
# mab[1] $lm6 = -0.6302910889489459
# mab[1] $lm8 = 0.08539216631649693
# mab[1] $lm10 = 0.24659625365511584
# mab[1] $lm12 = -0.14491796328290074
# mab[1] $lm14 = 0.6162407591288339
# mab[1] $lm16 = 0.021494605155131463
# mab[1] $lm18 = -0.9262261052909344
# mab[1] $lm20 = 0.26461166118715895
# mab[1] $lm22 = -0.22652930739892518
# mab[1] $lm24 = 0.2662029145465359
# mab[1] $lm26 = -0.6783838971650027
# mab[1] $lm28 = -0.5120207132418328
# mab[1] $lm30 = 0.9078571540051747
# mab[2] $lm0 = 0.4639878836228102
# mab[2] $lm2 = -0.13610996271576847
# mab[2] $lm4 = 0.9312640661491187
# mab[2] $lm6 = 0.9391692555291171
# mab[2] $lm8 = -0.7181515500504747
# mab[2] $lm10 = -0.3382039502947016
# mab[2] $lm12 = -0.9491617465118096
# mab[2] $lm14 = 0.26680751302084693
# mab[2] $lm16 = -0.16517799370244202
# mab[2] $lm18 = 0.2191286679597937
# mab[2] $lm20 = 0.2670594215217894
# mab[2] $lm22 = 0.873459977473469
# mab[2] $lm24 = -0.32194041790259864
# mab[2] $lm26 = 0.09746757873317224
# mab[2] $lm28 = 0.9460211095048912
# mab[2] $lm30 = 0.829728780440897
# mab[3] $lm0 = 0.1973169683940732
# mab[3] $lm2 = -0.4175417196039162
# mab[3] $lm4 = 0.6167946962329223
# mab[3] $lm6 = 0.5502656467222291
# mab[3] $lm8 = 0.6043939615080793
# mab[3] $lm10 = -0.8728832994279527
# mab[3] $lm12 = -0.7842171460133911
# mab[3] $lm14 = 0.7429211803754354
# mab[3] $lm16 = -0.5557843790585395
# mab[3] $lm18 = 0.005358046457722976
# mab[3] $lm20 = 0.07154936814951696
# mab[3] $lm22 = -0.7249581117080135
# mab[3] $lm24 = -0.3015808507746782
# mab[3] $lm26 = 0.3837903953853865
# mab[3] $lm28 = -0.2138045506664792
# mab[3] $lm30 = -0.2596825994891112
# mab[4] $lm0 = -0.687962719115127
# mab[4] $lm2 = 0.22370578944475894
# mab[4] $lm4 = -0.39077246165325863
# mab[4] $lm6 = 0.8789978831283782
# mab[4] $lm8 = -0.8508987126404584
# mab[4] $lm10 = -0.3780353565686756
# mab[4] $lm12 = -0.9371416286265315
# mab[4] $lm14 = 0.6073441537982289
# mab[4] $lm16 = -0.7602692653326344
# mab[4] $lm18 = -0.8970424975000213
# mab[4] $lm20 = -0.8194204598911834
# mab[4] $lm22 = -0.317867297899483
# mab[4] $lm24 = 0.45191135774047875
# mab[4] $lm26 = 0.30392251900520106
# mab[4] $lm28 = 0.7840931103542266
# mab[4] $lm30 = -0.9690867669422651
# mab[5] $lm0 = -0.6880109593275947
# mab[5] $lm2 = -0.7210122786959163
# mab[5] $lm4 = -0.8046557719872323
# mab[5] $lm6 = 0.7896547008552977
# mab[5] $lm8 = 0.9737738732010346
# mab[5] $lm10 = -0.3496333559465059
# mab[5] $lm12 = 0.2728208225275608
# mab[5] $lm14 = -0.6268598822279283
# mab[5] $lm16 = -0.3247696571927441
# mab[5] $lm18 = -0.44270707152677713
# mab[5] $lm20 = 0.6706049911784759
# mab[5] $lm22 = -0.7730529575188219
# mab[5] $lm24 = 0.7942205199051542
# mab[5] $lm26 = -0.5514613810788804
# mab[5] $lm28 = 0.2622772519945258
# mab[5] $lm30 = 0.8566371251754508
# mab[6] $lm0 = -0.8838327756636011
# mab[6] $lm2 = -0.4157107029295637
# mab[6] $lm4 = 0.3684660530243138
# mab[6] $lm6 = 0.19579995762217028
# mab[6] $lm8 = 0.5444895385933148
# mab[6] $lm10 = 0.45921235667612814
# mab[6] $lm12 = -0.37128803784734665
# mab[6] $lm14 = 0.7851179969799555
# mab[6] $lm16 = 0.8858194078250383
# mab[6] $lm18 = 0.8165317719333074
# mab[6] $lm20 = -0.35843987005652833
# mab[6] $lm22 = 0.8493872365571256
# mab[6] $lm24 = 0.7741728485302346
# mab[6] $lm26 = 0.4243584426950717
# mab[6] $lm28 = 0.5896226070832968
# mab[6] $lm30 = -0.14363170336537134
# mab[7] $lm0 = 0.7323522915498704
# mab[7] $lm2 = -0.2672763134126166
# mab[7] $lm4 = -0.1196950125207974
# mab[7] $lm6 = 0.8437484700462337
# mab[7] $lm8 = -0.6025686369316552
# mab[7] $lm10 = 0.27511494271042625
# mab[7] $lm12 = 0.01714138232940554
# mab[7] $lm14 = 0.07868448383130144
# mab[7] $lm16 = -0.35359413595848954
# mab[7] $lm18 = -0.5208762186660552
# mab[7] $lm20 = -0.6269629792002915
# mab[7] $lm22 = 0.754678706761962
# mab[7] $lm24 = 0.5597510917152477
# mab[7] $lm26 = -0.5255018250063999
# mab[7] $lm28 = 0.005274186210384224
# mab[7] $lm30 = 0.9333096380873391
# mab[8] $lm0 = 0.2022300234864176
# mab[8] $lm2 = -0.08786003156592814
# mab[8] $lm4 = -0.7559235303104423
# mab[8] $lm6 = -0.823014995896161
# mab[8] $lm8 = -0.9889557657527952
# mab[8] $lm10 = 0.7744254851526531
# mab[8] $lm12 = 0.815132947852186
# mab[8] $lm14 = 0.6148803103281251
# mab[8] $lm16 = 0.037581243486732197
# mab[8] $lm18 = -0.7102102558175538
# mab[8] $lm20 = -0.9184497168904722
# mab[8] $lm22 = -0.4841167445696888
# mab[8] $lm24 = 0.2840632923085755
# mab[8] $lm26 = -0.34920060368146455
# mab[8] $lm28 = 0.15380776925271822
# mab[8] $lm30 = 0.9272399541785057
# mab[9] $lm0 = 0.416145155592091
# mab[9] $lm2 = 0.5703519227860272
# mab[9] $lm4 = -0.00964617977745963
# mab[9] $lm6 = -0.6080342751617096
# mab[9] $lm8 = 0.6309228569096683
# mab[9] $lm10 = -0.05557014967610141
# mab[9] $lm12 = -0.5014155417022501
# mab[9] $lm14 = 0.7921825998469865
# mab[9] $lm16 = 0.4060379177903557
# mab[9] $lm18 = -0.02109447944487397
# mab[9] $lm20 = 0.18178588637648363
# mab[9] $lm22 = 0.3199680920683581
# mab[9] $lm24 = -0.8317200700099023
# mab[9] $lm26 = 0.4929828102360483
# mab[9] $lm28 = -0.0149646123622722
# mab[9] $lm30 = 0.7060189109347201
# mab[10] $lm0 = -0.9588310114083951
# mab[10] $lm2 = -0.6006524356832805
# mab[10] $lm4 = -0.9312229577695632
# mab[10] $lm6 = -0.9095454221789239
# mab[10] $lm8 = 0.41371468769523423
# mab[10] $lm10 = -0.7608115081233966
# mab[10] $lm12 = -0.17923415392874054
# mab[10] $lm14 = -0.36399305005627225
# mab[10] $lm16 = -0.27274079524141204
# mab[10] $lm18 = 0.9713009082212014
# mab[10] $lm20 = 0.35512872368456483
# mab[10] $lm22 = 0.6344444004024317
# mab[10] $lm24 = -0.6767425718107725
# mab[10] $lm26 = 0.2992657980944293
# mab[10] $lm28 = -0.609514024403911
# mab[10] $lm30 = -0.4111022158608286
# mab[11] $lm0 = 0.9398197043239886
# mab[11] $lm2 = 0.02846887682722321
# mab[11] $lm4 = 0.8186408041575641
# mab[11] $lm6 = -0.3493393384734713
# mab[11] $lm8 = 0.4580143360819746
# mab[11] $lm10 = 0.42648957444599
# mab[11] $lm12 = 0.5111022770860973
# mab[11] $lm14 = -0.7798961509446465
# mab[11] $lm16 = 0.9435641654419213
# mab[11] $lm18 = -0.5158894569769992
# mab[11] $lm20 = -0.9668243421442877
# mab[11] $lm22 = 0.11040162319892466
# mab[11] $lm24 = 0.7971083770541585
# mab[11] $lm26 = 0.6984468209883559
# mab[11] $lm28 = 0.44490423052301065
# mab[11] $lm30 = -0.22980454279614948
# mab[12] $lm0 = 0.6648852816008435
# mab[12] $lm2 = 0.18482913772408494
# mab[12] $lm4 = -0.48244003679996617
# mab[12] $lm6 = -0.22264542062103598
# mab[12] $lm8 = 0.5425406933718915
# mab[12] $lm10 = 0.5215700972337949
# mab[12] $lm12 = -0.5424036690167551
# mab[12] $lm14 = -0.5441296749161166
# mab[12] $lm16 = 0.9248945898842225
# mab[12] $lm18 = 0.3442710948117571
# mab[12] $lm20 = 0.024186116598561958
# mab[12] $lm22 = 0.05930115671201297
# mab[12] $lm24 = 0.21285811931917986
# mab[12] $lm26 = 0.31522578460068673
# mab[12] $lm28 = -0.4384552751182884
# mab[12] $lm30 = 0.7022733430337138
# mab[13] $lm0 = -0.5753217786434477
# mab[13] $lm2 = -0.9070991745600046
# mab[13] $lm4 = 0.32504456870796394
# mab[13] $lm6 = -0.4573019364522082
# mab[13] $lm8 = -0.8519106965318193
# mab[13] $lm10 = 0.12255439513899247
# mab[13] $lm12 = -0.846040180342414
# mab[13] $lm14 = -0.14578442274748737
# mab[13] $lm16 = -0.4964354083492717
# mab[13] $lm18 = 0.5232392306574352
# mab[13] $lm20 = -0.5470084496041241
# mab[13] $lm22 = -0.5162954181990966
# mab[13] $lm24 = -0.9816058967667407
# mab[13] $lm26 = 0.13661720667094324
# mab[13] $lm28 = -0.9513680671370923
# mab[13] $lm30 = -0.36615598968744467
# mab[14] $lm0 = -0.6363500655857988
# mab[14] $lm2 = 0.21508970380287673
# mab[14] $lm4 = -0.3765778478211781
# mab[14] $lm6 = 0.6574750183038587
# mab[14] $lm8 = -0.2830685429114548
# mab[14] $lm10 = 0.541934359909122
# mab[14] $lm12 = -0.42049709417246395
# mab[14] $lm14 = 0.6360295318449862
# mab[14] $lm16 = -0.005502988215229099
# mab[14] $lm18 = -0.5247249120152007
# mab[14] $lm20 = 0.2903455808188997
# mab[14] $lm22 = -0.8137944643882016
# mab[14] $lm24 = -0.7970569142679358
# mab[14] $lm26 = -0.812650464343815
# mab[14] $lm28 = 0.29094459181433563
# mab[14] $lm30 = -0.661014506627815
# mab[15] $lm0 = -0.6331909802931324
# mab[15] $lm2 = -0.6589517526254169
# mab[15] $lm4 = 0.040136042355621626
# mab[15] $lm6 = -0.28649334661282144
# mab[15] $lm8 = -0.7682618809497406
# mab[15] $lm10 = -0.012408807271218514
# mab[15] $lm12 = -0.6775574254919912
# mab[15] $lm14 = 0.7214611665126869
# mab[15] $lm16 = -0.3982433803664607
# mab[15] $lm18 = 0.45643269722371915
# mab[15] $lm20 = -0.6512671419900171
# mab[15] $lm22 = 0.7944315159066535
# mab[15] $lm24 = 0.3270035382161116
# mab[15] $lm26 = -0.26456839388113296
# mab[15] $lm28 = -0.6457786411859021
# mab[15] $lm30 = 0.11360252491670031

# $lm0:  (-0.25092)
# $lm2:  (-0.391516)
# $lm4:  (0.901429)
# $lm6:  (0.0495129)
# $lm8:  (0.463988)
# $lm10:  (-0.13611)
# $lm12:  (0.197317)
# $lm14:  (-0.417542)
# $lm16:  (-0.869897)
# $lm18:  (0.0934206)
# $lm20:  (0.897771)
# $lm22:  (-0.630291)
# $lm24:  (0.931264)
# $lm26:  (0.939169)
# $lm28:  (0.616795)
# $lm30:  (0.550266)
# $lm32:  (-0.438131)
# $lm34:  (0.726207)
# $lm36:  (0.0853922)
# $lm38:  (0.246596)
# $lm40:  (-0.718152)
# $lm42:  (-0.338204)
# $lm44:  (0.604394)
# $lm46:  (-0.872883)
# $lm48:  (0.0454657)
# $lm50:  (0.859395)
# $lm52:  (-0.144918)
# $lm54:  (0.616241)
# $lm56:  (-0.949162)
# $lm58:  (0.266808)
# $lm60:  (-0.784217)
# $lm62:  (0.742921)
# $lm64:  (-0.986096)
# $lm66:  (-0.430319)
# $lm68:  (0.0214946)
# $lm70:  (-0.926226)
# $lm72:  (-0.165178)
# $lm74:  (0.219129)
# $lm76:  (-0.555784)
# $lm78:  (0.00535805)
# $lm80:  (-0.264434)
# $lm82:  (0.381875)
# $lm84:  (0.264612)
# $lm86:  (-0.226529)
# $lm88:  (0.267059)
# $lm90:  (0.87346)
# $lm92:  (0.0715494)
# $lm94:  (-0.724958)
# $lm96:  (0.800836)
# $lm98:  (-0.989877)
# $lm100:  (0.266203)
# $lm102:  (-0.678384)
# $lm104:  (-0.32194)
# $lm106:  (0.0974676)
# $lm108:  (-0.301581)
# $lm110:  (0.38379)
# $lm112:  (-0.469595)
# $lm114:  (0.880917)
# $lm116:  (-0.512021)
# $lm118:  (0.907857)
# $lm120:  (0.946021)
# $lm122:  (0.829729)
# $lm124:  (-0.213805)
# $lm126:  (-0.259683)
# $lm128:  (-0.687963)
# $lm130:  (0.223706)
# $lm132:  (-0.688011)
# $lm134:  (-0.721012)
# $lm136:  (-0.883833)
# $lm138:  (-0.415711)
# $lm140:  (0.732352)
# $lm142:  (-0.267276)
# $lm144:  (-0.390772)
# $lm146:  (0.878998)
# $lm148:  (-0.804656)
# $lm150:  (0.789655)
# $lm152:  (0.368466)
# $lm154:  (0.1958)
# $lm156:  (-0.119695)
# $lm158:  (0.843748)
# $lm160:  (-0.850899)
# $lm162:  (-0.378035)
# $lm164:  (0.973774)
# $lm166:  (-0.349633)
# $lm168:  (0.54449)
# $lm170:  (0.459212)
# $lm172:  (-0.602569)
# $lm174:  (0.275115)
# $lm176:  (-0.937142)
# $lm178:  (0.607344)
# $lm180:  (0.272821)
# $lm182:  (-0.62686)
# $lm184:  (-0.371288)
# $lm186:  (0.785118)
# $lm188:  (0.0171414)
# $lm190:  (0.0786845)
# $lm192:  (-0.760269)
# $lm194:  (-0.897042)
# $lm196:  (-0.32477)
# $lm198:  (-0.442707)
# $lm200:  (0.885819)
# $lm202:  (0.816532)
# $lm204:  (-0.353594)
# $lm206:  (-0.520876)
# $lm208:  (-0.81942)
# $lm210:  (-0.317867)
# $lm212:  (0.670605)
# $lm214:  (-0.773053)
# $lm216:  (-0.35844)
# $lm218:  (0.849387)
# $lm220:  (-0.626963)
# $lm222:  (0.754679)
# $lm224:  (0.451911)
# $lm226:  (0.303923)
# $lm228:  (0.794221)
# $lm230:  (-0.551461)
# $lm232:  (0.774173)
# $lm234:  (0.424358)
# $lm236:  (0.559751)
# $lm238:  (-0.525502)
# $lm240:  (0.784093)
# $lm242:  (-0.969087)
# $lm244:  (0.262277)
# $lm246:  (0.856637)
# $lm248:  (0.589623)
# $lm250:  (-0.143632)
# $lm252:  (0.00527419)
# $lm254:  (0.93331)
# $lm256:  (0.20223)
# $lm258:  (-0.08786)
# $lm260:  (0.416145)
# $lm262:  (0.570352)
# $lm264:  (-0.958831)
# $lm266:  (-0.600652)
# $lm268:  (0.93982)
# $lm270:  (0.0284689)
# $lm272:  (-0.755924)
# $lm274:  (-0.823015)
# $lm276:  (-0.00964618)
# $lm278:  (-0.608034)
# $lm280:  (-0.931223)
# $lm282:  (-0.909545)
# $lm284:  (0.818641)
# $lm286:  (-0.349339)
# $lm288:  (-0.988956)
# $lm290:  (0.774425)
# $lm292:  (0.630923)
# $lm294:  (-0.0555701)
# $lm296:  (0.413715)
# $lm298:  (-0.760812)
# $lm300:  (0.458014)
# $lm302:  (0.42649)
# $lm304:  (0.815133)
# $lm306:  (0.61488)
# $lm308:  (-0.501416)
# $lm310:  (0.792183)
# $lm312:  (-0.179234)
# $lm314:  (-0.363993)
# $lm316:  (0.511102)
# $lm318:  (-0.779896)
# $lm320:  (0.0375812)
# $lm322:  (-0.71021)
# $lm324:  (0.406038)
# $lm326:  (-0.0210945)
# $lm328:  (-0.272741)
# $lm330:  (0.971301)
# $lm332:  (0.943564)
# $lm334:  (-0.515889)
# $lm336:  (-0.91845)
# $lm338:  (-0.484117)
# $lm340:  (0.181786)
# $lm342:  (0.319968)
# $lm344:  (0.355129)
# $lm346:  (0.634444)
# $lm348:  (-0.966824)
# $lm350:  (0.110402)
# $lm352:  (0.284063)
# $lm354:  (-0.349201)
# $lm356:  (-0.83172)
# $lm358:  (0.492983)
# $lm360:  (-0.676743)
# $lm362:  (0.299266)
# $lm364:  (0.797108)
# $lm366:  (0.698447)
# $lm368:  (0.153808)
# $lm370:  (0.92724)
# $lm372:  (-0.0149646)
# $lm374:  (0.706019)
# $lm376:  (-0.609514)
# $lm378:  (-0.411102)
# $lm380:  (0.444904)
# $lm382:  (-0.229805)
# $lm384:  (0.664885)
# $lm386:  (0.184829)
# $lm388:  (-0.575322)
# $lm390:  (-0.907099)
# $lm392:  (-0.63635)
# $lm394:  (0.21509)
# $lm396:  (-0.633191)
# $lm398:  (-0.658952)
# $lm400:  (-0.48244)
# $lm402:  (-0.222645)
# $lm404:  (0.325045)
# $lm406:  (-0.457302)
# $lm408:  (-0.376578)
# $lm410:  (0.657475)
# $lm412:  (0.040136)
# $lm414:  (-0.286493)
# $lm416:  (0.542541)
# $lm418:  (0.52157)
# $lm420:  (-0.851911)
# $lm422:  (0.122554)
# $lm424:  (-0.283069)
# $lm426:  (0.541934)
# $lm428:  (-0.768262)
# $lm430:  (-0.0124088)
# $lm432:  (-0.542404)
# $lm434:  (-0.54413)
# $lm436:  (-0.84604)
# $lm438:  (-0.145784)
# $lm440:  (-0.420497)
# $lm442:  (0.63603)
# $lm444:  (-0.677557)
# $lm446:  (0.721461)
# $lm448:  (0.924895)
# $lm450:  (0.344271)
# $lm452:  (-0.496435)
# $lm454:  (0.523239)
# $lm456:  (-0.00550299)
# $lm458:  (-0.524725)
# $lm460:  (-0.398243)
# $lm462:  (0.456433)
# $lm464:  (0.0241861)
# $lm466:  (0.0593012)
# $lm468:  (-0.547008)
# $lm470:  (-0.516295)
# $lm472:  (0.290346)
# $lm474:  (-0.813794)
# $lm476:  (-0.651267)
# $lm478:  (0.794432)
# $lm480:  (0.212858)
# $lm482:  (0.315226)
# $lm484:  (-0.981606)
# $lm486:  (0.136617)
# $lm488:  (-0.797057)
# $lm490:  (-0.81265)
# $lm492:  (0.327004)
# $lm494:  (-0.264568)
# $lm496:  (-0.438455)
# $lm498:  (0.702273)
# $lm500:  (-0.951368)
# $lm502:  (-0.366156)
# $lm504:  (0.290945)
# $lm506:  (-0.661015)
# $lm508:  (-0.645779)
# $lm510:  (0.113603)
